@model Mediaverse.Application.Authentication.Commands.SignUp.SignUpCommand;
@{
    ViewData["Title"] = "Home Page";
}

<div class="text-center">
    @using (Html.BeginForm("SignUp", "Authentication", new {id = "signUpForm"}, FormMethod.Post))
    {
        <h1 class="display-5">Sign Up</h1>
        @Html.TextBoxFor(x => x.Nickname)
        @Html.TextBoxFor(x => x.Email)
        @Html.TextBoxFor(x => x.Password)
        @Html.TextBoxFor(x => x.PasswordConfirmation)
        <input type="button" value="Confirm" onclick="signUp()"/>
    }
</div>

<script type="text/javascript">
    const signUp = function() {
        $.ajax({
            type: "POST",
            url: '@Url.Action("SignUp", "Authentication")',
            data: $('signUpForm').serialize(),
            success: function(res) {
                window.location.href = res.redirectToUrl;
            }
        });
    };
</script>